<html>
<head>
  <title>CaptainFact Overlay Injector - Testing</title>
</head>
<body>
  <h1>Youtube video (iframe), facts in a separate block</h1>
  <h2><a href="/"><= Back to index</a></h2>
  <hr/><br/>
  <iframe id="video" type="text/html" width="640" height="360"
          src="https://www.youtube.com/embed/OhWRT3PhMJs?enablejsapi=1"
          frameborder="0"></iframe>
  <div>
    <h2>Facts</h2>
    <div id="facts-container"></div>
  </div>
  <div>
    <h2>Activation Toggle</h2>
    <div class="toggle-btn-container"></div>
  </div>

  <!-- Overlay injection -->
  <script src="captainfact-overlay-injector.js"></script>

  <!-- Load Youtube API -->
  <script>
    let video = document.getElementById('video')
    let player = null
    function onYouTubeIframeAPIReady() {
      player = new YT.Player(video, {
        videoId: 'OhWRT3PhMJs',
        events: {onReady: initialize}
      });
    }
    function initialize() {
      new window.CaptainFactOverlayInjector({
        videosSelectorFunc: document => [video],
        urlExtractor: video => "https://www.youtube.com/embed/OhWRT3PhMJs",
        activateToggleBtnClass: 'toggle-btn-container',
        display: 'block',
        factsInjector: (mountFunc, video, facts) => mountFunc(document.getElementById('facts-container'), facts)
      })
    }
  </script>
  <script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>